
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>FAQ Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.1.1">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../install/" />
    
    
    <link rel="prev" href="terminology.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../">
            
                <a href="../">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="concepts.html">
            
                <a href="concepts.html">
            
                    
                    Technical Concepts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../release_notes.html">
            
                <a href="../release_notes.html">
            
                    
                    KAP Release Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="events.html">
            
                <a href="events.html">
            
                    
                    Events and Conferences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="best_practices.html">
            
                <a href="best_practices.html">
            
                    
                    Community Best Practices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="terminology.html">
            
                <a href="terminology.html">
            
                    
                    Terminology
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.6" data-path="faq.html">
            
                <a href="faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../install/">
            
                <a href="../install/">
            
                    
                    Installation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../install/hadoop_evn.html">
            
                <a href="../install/hadoop_evn.html">
            
                    
                    Hadoop Enviroument
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../install/kylin_cluster.html">
            
                <a href="../install/kylin_cluster.html">
            
                    
                    Deploy in cluster mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../install/advance_settings.html">
            
                <a href="../install/advance_settings.html">
            
                    
                    Advance Settings
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../tutorial/kylin_sample.html">
            
                <a href="../tutorial/kylin_sample.html">
            
                    
                    Tutorial
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../tutorial/kylin_sample.html">
            
                <a href="../tutorial/kylin_sample.html">
            
                    
                    Quick Start with Sample Cube
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../tutorial/create_cube.html">
            
                <a href="../tutorial/create_cube.html">
            
                    
                    KAP Cube Creation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../tutorial/cube_build_job.html">
            
                <a href="../tutorial/cube_build_job.html">
            
                    
                    KAP Cube Build and Job Monitoring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../tutorial/acl.html">
            
                <a href="../tutorial/acl.html">
            
                    
                    KAP Cube Permission
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../tutorial/web.html">
            
                <a href="../tutorial/web.html">
            
                    
                    KAP Web Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../tutorial/tableau.html">
            
                <a href="../tutorial/tableau.html">
            
                    
                    Tableau 8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../tutorial/tableau_91.html">
            
                <a href="../tutorial/tableau_91.html">
            
                    
                    Tableau 9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../tutorial/powerbi.html">
            
                <a href="../tutorial/powerbi.html">
            
                    
                    MS Excel and Power BI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../tutorial/odbc.html">
            
                <a href="../tutorial/odbc.html">
            
                    
                    KAP ODBC Driver
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../howto/howto_build_cube_with_restapi.html">
            
                <a href="../howto/howto_build_cube_with_restapi.html">
            
                    
                    How to
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../howto/howto_build_cube_with_restapi.html">
            
                <a href="../howto/howto_build_cube_with_restapi.html">
            
                    
                    Build Cube with RESTful API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../howto/howto_use_restapi_in_js.html">
            
                <a href="../howto/howto_use_restapi_in_js.html">
            
                    
                    Use RESTful API in Javascript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../howto/howto_use_restapi.html">
            
                <a href="../howto/howto_use_restapi.html">
            
                    
                    Use RESTful API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../howto/howto_optimize_cubes.html">
            
                <a href="../howto/howto_optimize_cubes.html">
            
                    
                    Optimize Cube
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../howto/howto_backup_metadata.html">
            
                <a href="../howto/howto_backup_metadata.html">
            
                    
                    Backup Metadata
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../howto/howto_cleanup_storage.html">
            
                <a href="../howto/howto_cleanup_storage.html">
            
                    
                    Cleanup Storage(HDFS&HBase Tables)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../howto/howto_jdbc.html">
            
                <a href="../howto/howto_jdbc.html">
            
                    
                    Use KAP Remote JDBC Driver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../howto/howto_upgrade.html">
            
                <a href="../howto/howto_upgrade.html">
            
                    
                    Upgrade from old versions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../howto/howto_ldap_and_sso.html">
            
                <a href="../howto/howto_ldap_and_sso.html">
            
                    
                    Enable Security with LDAP and SSO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../howto/howto_update_coprocessor.html">
            
                <a href="../howto/howto_update_coprocessor.html">
            
                    
                    How to Update HBase Coprocessor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >FAQ</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h4 id="build-cube-failed-due-to-error-check-status">Build cube failed due to &quot;error check status&quot;</h4>
<ul>
<li>Check if <code>kylin.log</code> contains <em>yarn.resourcemanager.webapp.address:<a href="http://0.0.0.0:8088" target="_blank">http://0.0.0.0:8088</a></em> and <em>java.net.ConnectException: Connection refused</em></li>
<li>If yes, then the problem is the address of resource manager was not available in yarn-site.xml</li>
<li>A workaround is update <code>kylin.properties</code>, set <code>kylin.job.yarn.app.rest.check.status.url=http://YOUR_RM_NODE:8088/ws/v1/cluster/apps/${job_id}?anonymous=true</code></li>
</ul>
<h4 id="hbase-cannot-get-master-address-from-zookeeper-on-hortonworks-sandbox">HBase cannot get master address from ZooKeeper on Hortonworks Sandbox</h4>
<ul>
<li>By default hortonworks disables hbase, you&apos;ll have to start hbase in ambari homepage first.</li>
</ul>
<h4 id="map-reduce-job-information-cannot-display-on-hortonworks-sandbox">Map Reduce Job information cannot display on Hortonworks Sandbox</h4>
<ul>
<li>Check out <a href="https://github.com/KylinOLAP/Kylin/issues/40" target="_blank">https://github.com/KylinOLAP/Kylin/issues/40</a></li>
</ul>
<h4 id="install-kylin-on-cdh-52-or-hadoop-25x">Install Kylin on CDH 5.2 or Hadoop 2.5.x</h4>
<ul>
<li><p>Check out discussion: <a href="https://groups.google.com/forum/?utm_medium=email&amp;utm_source=footer#!msg/kylin-olap/X0GZfsX1jLc/nzs6xAhNpLkJ" target="_blank">https://groups.google.com/forum/?utm_medium=email&amp;utm_source=footer#!msg/kylin-olap/X0GZfsX1jLc/nzs6xAhNpLkJ</a></p>
<pre><code>I was able to deploy Kylin with following option in POM.
&lt;hadoop2.version&gt;2.5.0&lt;/hadoop2.version&gt;
&lt;yarn.version&gt;2.5.0&lt;/yarn.version&gt;
&lt;hbase-hadoop2.version&gt;0.98.6-hadoop2&lt;/hbase-hadoop2.version&gt;
&lt;zookeeper.version&gt;3.4.5&lt;/zookeeper.version&gt;
&lt;hive.version&gt;0.13.1&lt;/hive.version&gt;
My Cluster is running on Cloudera Distribution CDH 5.2.0.
</code></pre></li>
</ul>
<h4 id="unable-to-load-a-big-cube-as-htable-with-javalangoutofmemoryerror-unable-to-create-new-native-thread">Unable to load a big cube as HTable, with java.lang.OutOfMemoryError: unable to create new native thread</h4>
<ul>
<li>HBase (as of writing) allocates one thread per region when bulk loading a HTable. Try reduce the number of regions of your cube by setting its &quot;capacity&quot; to &quot;MEDIUM&quot; or &quot;LARGE&quot;. Also tweaks OS &amp; JVM can allow more threads, for example see <a href="http://blog.egilh.com/2006/06/2811aspx.html" target="_blank">this article</a>.</li>
</ul>
<h4 id="sumfield-returns-a-negtive-result-while-all-the-numbers-in-this-field-are--0">SUM(field) returns a negtive result while all the numbers in this field are &gt; 0</h4>
<ul>
<li>If a column is declared as integer in Hive, the SQL engine (calcite) will use column&apos;s type (integer) as the data type for &quot;SUM(field)&quot;, while the aggregated value on this field may exceed the scope of integer; in that case the cast will cause a negtive value be returned; The workround is, alter that column&apos;s type to BIGINT in hive, and then sync the table schema to Kylin (the cube doesn&apos;t need rebuild); Keep in mind that, always declare as BIGINT in hive for an integer column which would be used as a measure in Kylin; See hive number types: <a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Types#LanguageManualTypes-NumericTypes" target="_blank">https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Types#LanguageManualTypes-NumericTypes</a></li>
</ul>
<h4 id="why-kylin-need-extract-the-distinct-columns-from-fact-table-before-building-cube">Why Kylin need extract the distinct columns from Fact Table before building cube?</h4>
<ul>
<li>Kylin uses dictionary to encode the values in each column, this greatly reduce the cube&apos;s storage size. To build the dictionary, Kylin need fetch the distinct values for each column.</li>
</ul>
<h4 id="why-kylin-calculate-the-hive-table-cardinality">Why Kylin calculate the HIVE table cardinality?</h4>
<ul>
<li>The cardinality of dimensions is an important measure of cube complexity. The higher the cardinality, the bigger the cube, and thus the longer to build and the slower to query. Cardinality &gt; 1,000 is worth attention and &gt; 1,000,000 should be avoided at best effort. For optimal cube performance, try reduce high cardinality by categorize values or derive features.</li>
</ul>
<h4 id="how-to-add-new-user-or-change-the-default-password">How to add new user or change the default password?</h4>
<ul>
<li><p>Kylin web&apos;s security is implemented with Spring security framework, where the kylinSecurity.xml is the main configuration file:</p>
<pre><code>${KYLIN_HOME}/tomcat/webapps/kylin/WEB-INF/classes/kylinSecurity.xml
</code></pre></li>
<li><p>The password hash for pre-defined test users can be found in the profile &quot;sandbox,testing&quot; part; To change the default password, you need generate a new hash and then update it here, please refer to the code snippet in: <a href="https://stackoverflow.com/questions/25844419/spring-bcryptpasswordencoder-generate-different-password-for-same-input" target="_blank">https://stackoverflow.com/questions/25844419/spring-bcryptpasswordencoder-generate-different-password-for-same-input</a></p>
</li>
<li>When you deploy Kylin for more users, switch to LDAP authentication is recommended; To enable LDAP authentication, update &quot;kylin.sandbox&quot; in conf/kylin.properties to false, and also configure the ldap.* properties in ${KYLIN_HOME}/conf/kylin.properties</li>
</ul>
<h4 id="using-sub-query-for-un-supported-sql">Using sub-query for un-supported SQL</h4>
<pre><code>Original SQL:
select fact.slr_sgmt,
sum(case when cal.RTL_WEEK_BEG_DT = &apos;2015-09-06&apos; then gmv else 0 end) as W36,
sum(case when cal.RTL_WEEK_BEG_DT = &apos;2015-08-30&apos; then gmv else 0 end) as W35
from ih_daily_fact fact
inner join dw_cal_dt cal on fact.cal_dt = cal.cal_dt
group by fact.slr_sgmt
</code></pre><pre><code>Using sub-query
select a.slr_sgmt,
sum(case when a.RTL_WEEK_BEG_DT = &apos;2015-09-06&apos; then gmv else 0 end) as W36,
sum(case when a.RTL_WEEK_BEG_DT = &apos;2015-08-30&apos; then gmv else 0 end) as W35
from (
    select fact.slr_sgmt as slr_sgmt,
    cal.RTL_WEEK_BEG_DT as RTL_WEEK_BEG_DT,
    sum(gmv) as gmv36,
    sum(gmv) as gmv35
    from ih_daily_fact fact
    inner join dw_cal_dt cal on fact.cal_dt = cal.cal_dt
    group by fact.slr_sgmt, cal.RTL_WEEK_BEG_DT
) a
group by a.slr_sgmt
</code></pre><h4 id="build-kylin-meet-npm-errors-&#x4E2D;&#x56FD;&#x5927;&#x9646;&#x5730;&#x533A;&#x7528;&#x6237;&#x8BF7;&#x7279;&#x522B;&#x6CE8;&#x610F;&#x6B64;&#x95EE;&#x9898;">Build kylin meet NPM errors (&#x4E2D;&#x56FD;&#x5927;&#x9646;&#x5730;&#x533A;&#x7528;&#x6237;&#x8BF7;&#x7279;&#x522B;&#x6CE8;&#x610F;&#x6B64;&#x95EE;&#x9898;)?</h4>
<ul>
<li><p>Please add proxy for your NPM (&#x8BF7;&#x4E3A;NPM&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;):<br><code>npm config set proxy http://YOUR_PROXY_IP</code></p>
</li>
<li><p>Please update your local NPM repository to using any mirror of npmjs.org, like Taobao NPM (&#x8BF7;&#x66F4;&#x65B0;&#x60A8;&#x672C;&#x5730;&#x7684;NPM&#x4ED3;&#x5E93;&#x4EE5;&#x4F7F;&#x7528;&#x56FD;&#x5185;&#x7684;NPM&#x955C;&#x50CF;&#xFF0C;&#x4F8B;&#x5982;&#x6DD8;&#x5B9D;NPM&#x955C;&#x50CF;) :<br><a href="http://npm.taobao.org" target="_blank">http://npm.taobao.org</a></p>
</li>
</ul>
<h4 id="failed-to-run-buildcubewithenginetest-saying-failed-to-connect-to-hbase-while-hbase-is-active">Failed to run BuildCubeWithEngineTest, saying failed to connect to hbase while hbase is active</h4>
<ul>
<li>User may get this error when first time run hbase client, please check the error trace to see whether there is an error saying couldn&apos;t access a folder like &quot;/hadoop/hbase/local/jars&quot;; If that folder doesn&apos;t exist, create it.</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="terminology.html" class="navigation navigation-prev " aria-label="Previous page: Terminology">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../install/" class="navigation navigation-next " aria-label="Next page: Installation">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"layout":"docs15","title":"FAQ","categories":"gettingstarted","permalink":"/docs15/gettingstarted/faq.html","since":"v0.6.x","level":"1.2.6","depth":2,"next":{"title":"Installation","level":"1.3","depth":1,"path":"manual/install/index.md","ref":"manual/install/index.md","articles":[{"title":"Hadoop Enviroument","level":"1.3.1","depth":2,"path":"manual/install/hadoop_evn.md","ref":"manual/install/hadoop_evn.md","articles":[]},{"title":"Deploy in cluster mode","level":"1.3.2","depth":2,"path":"manual/install/kylin_cluster.md","ref":"manual/install/kylin_cluster.md","articles":[]},{"title":"Advance Settings","level":"1.3.3","depth":2,"path":"manual/install/advance_settings.md","ref":"manual/install/advance_settings.md","articles":[]}]},"previous":{"title":"Terminology","level":"1.2.5","depth":2,"path":"manual/gettingstarted/terminology.md","ref":"manual/gettingstarted/terminology.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"manual/gettingstarted/faq.md","mtime":"2016-06-23T07:55:33.000Z","type":"markdown"},"gitbook":{"version":"3.1.1","time":"2016-06-23T09:20:13.690Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

